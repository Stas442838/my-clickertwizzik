<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Cyber Slots Pro</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@500;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --neon-blue: #00f3ff;
            --neon-pink: #ff00ff;
            --neon-gold: #ffd700;
            --bg-dark: #0a0a12;
            --reel-bg: #1a1a2e;
        }
        
        * {box-sizing: border-box;}

        body {
            background: radial-gradient(circle at center top, #2b1055, #000);
            color: white;
            font-family: 'Orbitron', sans-serif; /* –§—É—Ç—É—Ä–∏—Å—Ç–∏—á–Ω—ã–π —à—Ä–∏—Ñ—Ç */
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
            overflow: hidden;
            user-select: none;
            padding: 20px;
        }

        /* --- UI –≠–ª–µ–º–µ–Ω—Ç—ã --- */
        .settings-btn {
            position: absolute; top: 20px; right: 20px;
            font-size: 28px; cursor: pointer; background: none; border: none;
            color: var(--neon-blue); text-shadow: 0 0 10px var(--neon-blue);
            transition: transform 0.3s; z-index: 10;
        }
        .settings-btn:hover { transform: rotate(90deg); }

        .balance-container {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            padding: 15px 40px;
            border-radius: 30px;
            margin-bottom: 40px;
            border: 2px solid var(--neon-blue);
            box-shadow: 0 0 20px var(--neon-blue), inset 0 0 20px rgba(0, 243, 255, 0.2);
            font-size: 28px; font-weight: 900; letter-spacing: 1px;
        }

        /* --- –°–õ–û–¢–´ –ò –ê–ù–ò–ú–ê–¶–ò–ò --- */
        .slots-machine {
            background: #111;
            padding: 20px;
            border-radius: 25px;
            border: 3px solid var(--neon-pink);
            box-shadow: 0 0 30px var(--neon-pink), inset 0 0 30px #000;
            margin-bottom: 40px;
        }

        .slots {
            display: flex; gap: 15px; perspective: 1000px;
        }

        .reel-container {
            width: 90px; height: 120px;
            overflow: hidden; /* –°–∫—Ä—ã–≤–∞–µ–º –≤—Å–µ —á—Ç–æ –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ —Ä–∞–º–∫–∏ */
            background: linear-gradient(to bottom, #000, var(--reel-bg) 50%, #000);
            border-radius: 15px;
            border: 2px solid #333;
            box-shadow: inset 0 0 20px #000;
            position: relative;
        }
        
        /* –°–∞–º–∞ –ª–µ–Ω—Ç–∞ —Å —Å–∏–º–≤–æ–ª–∞–º–∏ */
        .reel-strip {
            display: flex; flex-direction: column; align-items: center;
            position: absolute; top: 0; left: 0; width: 100%;
            transition: transform 0.1s ease-out; /* –ü–ª–∞–≤–Ω–æ—Å—Ç—å –¥–≤–∏–∂–µ–Ω–∏—è */
        }

        .symbol {
            height: 120px; /* –í—ã—Å–æ—Ç–∞ –æ–¥–Ω–æ–≥–æ —Å–∏–º–≤–æ–ª–∞ —Ä–∞–≤–Ω–∞ –≤—ã—Å–æ—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ */
            display: flex; align-items: center; justify-content: center;
            font-size: 60px;
            text-shadow: 0 0 15px rgba(255,255,255,0.5);
            filter: blur(0px); /* –ò–∑–Ω–∞—á–∞–ª—å–Ω–æ –±–µ–∑ —Ä–∞–∑–º—ã—Ç–∏—è */
            transition: filter 0.1s;
        }

        /* –ö–ª–∞—Å—Å –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ –≤—Ä–∞—â–µ–Ω–∏—è (—Ä–∞–∑–º—ã—Ç–∏–µ) */
        .spinning .symbol {
            filter: blur(8px) translateY(-5px);
            opacity: 0.8;
        }
        
        /* –ö–ª–∞—Å—Å –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ –≤—ã–∏–≥—Ä—ã—à–∞ */
        .win-pulse {
            animation: pulseGold 1s infinite alternate;
        }
        
        @keyframes pulseGold {
            from { box-shadow: 0 0 10px var(--neon-gold); border-color: var(--neon-gold); }
            to { box-shadow: 0 0 40px var(--neon-gold); border-color: #fff; transform: scale(1.05); }
        }

        /* --- –ö–ù–û–ü–ö–ê SPIN --- */
        .spin-container {
            position: relative;
            width: 120px; height: 120px;
            display: flex; align-items: center; justify-content: center;
        }
        
        .spin-ring {
            position: absolute; top: -10px; left: -10px; right: -10px; bottom: -10px;
            border-radius: 50%; border: 4px solid var(--neon-pink);
            box-shadow: 0 0 20px var(--neon-pink);
            animation: spinRing 3s linear infinite;
        }
        @keyframes spinRing { 100% { transform: rotate(360deg); } }

        button.spin-btn {
            width: 100px; height: 100px;
            border-radius: 50%; border: none;
            background: linear-gradient(145deg, #ff00ff, #7a00ff);
            color: white; font-size: 20px; font-weight: 900;
            cursor: pointer; z-index: 2;
            box-shadow: 0 10px 25px rgba(255, 0, 255, 0.6), inset 0 -5px 15px rgba(0,0,0,0.3);
            transition: all 0.1s; font-family: 'Orbitron', sans-serif;
        }
        button.spin-btn:active { transform: scale(0.95); background: linear-gradient(145deg, #7a00ff, #ff00ff); }
        button.spin-btn:disabled { background: #333; box-shadow: none; color: #777; animation: none;}

        #message {
            margin-top: 25px; min-height: 30px;
            color: var(--neon-gold); font-weight: bold; font-size: 20px;
            text-shadow: 0 0 15px var(--neon-gold); text-align: center;
        }

        /* --- –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û –ù–ê–°–¢–†–û–ï–ö --- */
        .modal {
            display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.85); z-index: 100;
            align-items: center; justify-content: center; backdrop-filter: blur(10px);
        }
        .modal-content {
            background: #1a1a2e; padding: 30px; border-radius: 25px; width: 85%; max-width: 350px;
            border: 2px solid var(--neon-blue); box-shadow: 0 0 30px rgba(0, 243, 255, 0.3);
        }
        .modal h2 { text-align: center; color: var(--neon-blue); margin-top: 0; text-transform: uppercase;}
        .setting-item { margin: 25px 0; display: flex; justify-content: space-between; align-items: center; font-size: 18px;}
        /* –°–≤–∏—Ç—á */
        .switch { position: relative; display: inline-block; width: 60px; height: 30px; }
        .switch input { opacity: 0; width: 0; height: 0; }
        .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #333; transition: .4s; border-radius: 34px; border: 2px solid #555;}
        .slider:before { position: absolute; content: ""; height: 20px; width: 20px; left: 4px; bottom: 3px; background-color: white; transition: .4s; border-radius: 50%; box-shadow: 0 0 10px white;}
        input:checked + .slider { background-color: var(--neon-pink); border-color: var(--neon-pink);}
        input:checked + .slider:before { transform: translateX(28px); background-color: var(--neon-blue);}
        /* –ò–Ω–ø—É—Ç—ã */
        .promo-input { width: 100%; padding: 12px; border-radius: 10px; border: 2px solid var(--neon-blue); background: #0a0a12; color: white; margin-top: 10px; font-family: 'Orbitron', sans-serif; outline: none;}
        .apply-btn, .close-modal { width: 100%; margin-top: 15px; padding: 12px; border: none; border-radius: 10px; cursor: pointer; font-family: 'Orbitron', sans-serif; font-weight: bold; font-size: 16px; transition: 0.2s;}
        .apply-btn { background: var(--neon-blue); color: #000; box-shadow: 0 0 15px var(--neon-blue);}
        .apply-btn:hover { background: white; }
        .close-modal { background: transparent; border: 2px solid var(--neon-pink); color: var(--neon-pink);}
        .close-modal:hover { background: var(--neon-pink); color: white; box-shadow: 0 0 15px var(--neon-pink);}
    </style>
</head>
<body>

    <button class="settings-btn" onclick="openSettings()">‚öôÔ∏è</button>

    <div id="settingsModal" class="modal">
        <div class="modal-content">
            <h2>–°–∏—Å—Ç–µ–º–∞</h2>
            <div class="setting-item">
                <span>üì≥ –í–∏–±—Ä–∞—Ü–∏—è</span>
                <label class="switch"><input type="checkbox" id="vibrateToggle" checked onchange="saveSettings()"><span class="slider"></span></label>
            </div>
            <div class="setting-item">
                <span>üöÄ –¢—É—Ä–±–æ —Ä–µ–∂–∏–º</span>
                <label class="switch"><input type="checkbox" id="turboToggle" onchange="saveSettings()"><span class="slider"></span></label>
            </div>
            <div style="margin-top: 30px;">
                <label>üéÅ –í–≤–µ—Å—Ç–∏ –∫–æ–¥:</label>
                <input type="text" id="promoInput" class="promo-input" placeholder="–ö–æ–¥ –¥–æ—Å—Ç—É–ø–∞...">
                <button class="apply-btn" onclick="checkPromo()">–ê–ö–¢–ò–í–ò–†–û–í–ê–¢–¨</button>
            </div>
            <button class="close-modal" onclick="closeSettings()">–ó–ê–ö–†–´–¢–¨</button>
        </div>
    </div>

    <div class="balance-container">
        <span id="balance">1000</span> $
    </div>

    <div class="slots-machine">
        <div class="slots">
            <div class="reel-container" id="rc1">
                <div class="reel-strip" id="r1"><div class="symbol">7Ô∏è‚É£</div></div>
            </div>
            <div class="reel-container" id="rc2">
                <div class="reel-strip" id="r2"><div class="symbol">7Ô∏è‚É£</div></div>
            </div>
            <div class="reel-container" id="rc3">
                <div class="reel-strip" id="r3"><div class="symbol">7Ô∏è‚É£</div></div>
            </div>
        </div>
    </div>

    <div class="spin-container">
        <div class="spin-ring"></div>
        <button id="spinBtn" class="spin-btn" onclick="startSpin()">SPIN<br><small>50$</small></button>
    </div>
    
    <div id="message">–ì–æ—Ç–æ–≤ –∫ –∏–≥—Ä–µ!</div>

    <script>
        let tg = window.Telegram.WebApp;
        tg.expand();
        tg.setHeaderColor('#2b1055'); // –¶–≤–µ—Ç —à–∞–ø–∫–∏ —Ç–µ–ª–µ–≥—Ä–∞–º

        // –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π –Ω–∞–±–æ—Ä —Å–∏–º–≤–æ–ª–æ–≤ –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏
        const symbolsMap = ['üçí', 'üçã', 'üçá', 'üíé', '7Ô∏è‚É£', 'üîî', 'üçä', '‚≠ê'];
        // –ß—Ç–æ–±—ã –ª–µ–Ω—Ç–∞ –±—ã–ª–∞ –¥–ª–∏–Ω–Ω–æ–π, –¥—É–±–ª–∏—Ä—É–µ–º —Å–∏–º–≤–æ–ª—ã
        const fullReelStrip = [...symbolsMap, ...symbolsMap, ...symbolsMap];
        
        const cost = 50;
        let balance = parseInt(localStorage.getItem('casino_balance_v2')) || 1000;
        let isVibration = localStorage.getItem('setting_vibration') !== 'false';
        let isTurbo = localStorage.getItem('setting_turbo') === 'true';
        let usedPromos = JSON.parse(localStorage.getItem('used_promos_v2')) || [];

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        updateBalance(false); // False –∑–Ω–∞—á–∏—Ç –±–µ–∑ –∞–Ω–∏–º–∞—Ü–∏–∏ —Å—á–µ—Ç–∞ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
        document.getElementById('vibrateToggle').checked = isVibration;
        document.getElementById('turboToggle').checked = isTurbo;

        // --- –õ–æ–≥–∏–∫–∞ –ê–Ω–∏–º–∞—Ü–∏–∏ –∏ –ò–≥—Ä—ã ---

        async function startSpin() {
            if (balance < cost) {
                showMessage("‚ùå –ù–ï–î–û–°–¢–ê–¢–û–ß–ù–û –°–†–ï–î–°–¢–í", "var(--neon-pink)");
                haptic('error'); return;
            }

            balance -= cost;
            updateBalance(true); // –û–±–Ω–æ–≤–ª—è–µ–º –±–∞–ª–∞–Ω—Å —Å –∞–Ω–∏–º–∞—Ü–∏–µ–π
            showMessage("–£–¥–∞—á–∏!", var(--neon-blue));
            
            let btn = document.getElementById('spinBtn');
            btn.disabled = true;
            document.querySelector('.spin-ring').style.animationDuration = '0.5s'; // –£—Å–∫–æ—Ä—è–µ–º –∫–æ–ª—å—Ü–æ

            // –£–±–∏—Ä–∞–µ–º –∫–ª–∞—Å—Å—ã –ø–æ–±–µ–¥—ã, –µ—Å–ª–∏ –±—ã–ª–∏
            document.querySelectorAll('.reel-container').forEach(el => el.classList.remove('win-pulse'));

            // –ó–∞–ø—É—Å–∫–∞–µ–º –≤—Ä–∞—â–µ–Ω–∏–µ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –±–∞—Ä–∞–±–∞–Ω–∞ —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π
            const results = [];
            // –ë–∞–∑–æ–≤–æ–µ –≤—Ä–µ–º—è –≤—Ä–∞—â–µ–Ω–∏—è + –∑–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–ª–µ–¥—É—é—â–µ–≥–æ
            let baseSpinTime = isTurbo ? 500 : 1500;
            let delayStep = isTurbo ? 200 : 500;

            const spinPromises = [
                spinReel('r1', baseSpinTime),
                spinReel('r2', baseSpinTime + delayStep),
                spinReel('r3', baseSpinTime + delayStep * 2)
            ];

            // –ñ–¥–µ–º –æ–∫–æ–Ω—á–∞–Ω–∏—è –≤—Å–µ—Ö –≤—Ä–∞—â–µ–Ω–∏–π
            const finalSymbols = await Promise.all(spinPromises);
            
            btn.disabled = false;
            document.querySelector('.spin-ring').style.animationDuration = '3s'; // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∫–æ–ª—å—Ü–æ
            checkWin(finalSymbols);
        }

        function spinReel(reelId, duration) {
            return new Promise(resolve => {
                const strip = document.getElementById(reelId);
                const container = strip.parentElement;
                
                // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–ª—É—á–∞–π–Ω—É—é –¥–ª–∏–Ω–Ω—É—é –ª–µ–Ω—Ç—É —Å–∏–º–≤–æ–ª–æ–≤ –¥–ª—è —ç—Ç–æ–≥–æ –≤—Ä–∞—â–µ–Ω–∏—è
                let currentStripContent = "";
                // –î–æ–±–∞–≤–ª—è–µ–º –º–Ω–æ–≥–æ —Å–∏–º–≤–æ–ª–æ–≤ –¥–ª—è –∏–º–∏—Ç–∞—Ü–∏–∏ –¥–æ–ª–≥–æ–≥–æ –≤—Ä–∞—â–µ–Ω–∏—è
                for(let i=0; i < 20; i++) {
                     currentStripContent += `<div class="symbol">${getRandomSymbol()}</div>`;
                }
                // –í—ã–±–∏—Ä–∞–µ–º —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —Å–∏–º–≤–æ–ª
                const finalSymbol = getRandomSymbol();
                 // –î–æ–±–∞–≤–ª—è–µ–º —Ñ–∏–Ω–∞–ª—å–Ω—ã–π —Å–∏–º–≤–æ–ª –≤ –∫–æ–Ω–µ—Ü
                currentStripContent += `<div class="symbol" id="${reelId}-final">${finalSymbol}</div>`;
                
                strip.innerHTML = currentStripContent;
                
                // –í–∫–ª—é—á–∞–µ–º —Ä–∞–∑–º—ã—Ç–∏–µ
                container.classList.add('spinning');
                
                // –ê–Ω–∏–º–∞—Ü–∏—è –¥–≤–∏–∂–µ–Ω–∏—è –ª–µ–Ω—Ç—ã –≤–≤–µ—Ä—Ö
                // –í—ã—Å–æ—Ç–∞ —Å–∏–º–≤–æ–ª–∞ 120px. –î–≤–∏–≥–∞–µ–º –ª–µ–Ω—Ç—É —Ç–∞–∫, —á—Ç–æ–±—ã –ø–æ—Å–ª–µ–¥–Ω–∏–π —Å–∏–º–≤–æ–ª –æ–∫–∞–∑–∞–ª—Å—è –≤ –≤–∏–¥–∏–º–æ–π –∑–æ–Ω–µ
                const finalPosition = - (strip.children.length - 1) * 120;
                strip.style.transition = `transform ${duration}ms cubic-bezier(.45,.05,.55,.95)`;
                strip.style.transform = `translateY(${finalPosition}px)`;

                // –ü–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ –∞–Ω–∏–º–∞—Ü–∏–∏
                setTimeout(() => {
                    container.classList.remove('spinning');
                    haptic('selection'); // –í–∏–±—Ä–∞—Ü–∏—è –ø—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ –±–∞—Ä–∞–±–∞–Ω–∞
                    
                    // –≠—Ñ—Ñ–µ–∫—Ç "–æ—Ç—Å–∫–æ–∫–∞" (–Ω–µ–±–æ–ª—å—à–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ –≤–Ω–∏–∑-–≤–≤–µ—Ä—Ö)
                    strip.style.transition = "transform 0.2s ease-out";
                    strip.style.transform = `translateY(${finalPosition + 20}px)`;
                    setTimeout(() => {
                         strip.style.transform = `translateY(${finalPosition}px)`;
                    }, 200);

                    resolve(finalSymbol);
                }, duration);
            });
        }

        function getRandomSymbol() {
            return symbolsMap[Math.floor(Math.random() * symbolsMap.length)];
        }

        function checkWin(symbols) {
            let [r1, r2, r3] = symbols;
            let win = 0;

            if (r1 === r2 && r2 === r3) {
                if(r1 === '7Ô∏è‚É£') win = 5000;
                else if(r1 === 'üíé') win = 2000;
                else if(r1 === 'üîî') win = 1000;
                else if(r1 === '‚≠ê') win = 750;
                else win = 250;
                // –í–∫–ª—é—á–∞–µ–º –ø—É–ª—å—Å–∞—Ü–∏—é –≤—Å–µ—Ö –±–∞—Ä–∞–±–∞–Ω–æ–≤
                document.querySelectorAll('.reel-container').forEach(el => el.classList.add('win-pulse'));
            } 
            else if ((r1 === '7Ô∏è‚É£' && r2 === '7Ô∏è‚É£') || (r2 === '7Ô∏è‚É£' && r3 === '7Ô∏è‚É£') || (r1 === '7Ô∏è‚É£' && r3 === '7Ô∏è‚É£')) {
                win = 100;
                // –¢—É—Ç –º–æ–∂–Ω–æ –ø–æ–¥—Å–≤–µ—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ —Ç–µ, —á—Ç–æ —Å–æ–≤–ø–∞–ª–∏, –Ω–æ –¥–ª—è –ø—Ä–æ—Å—Ç–æ—Ç—ã –ø–æ–¥—Å–≤–µ—Ç–∏–º –≤—Å–µ
                document.querySelectorAll('.reel-container').forEach(el => el.classList.add('win-pulse'));
            }

            if (win > 0) {
                balance += win;
                showMessage(`üéâ –í–´–ò–ì–†–´–®: +${win}$`, var(--neon-gold));
                haptic('success');
                updateBalance(true);
            } else {
                showMessage("–ü–æ–ø—Ä–æ–±—É–π –µ—â–µ —Ä–∞–∑", "#555");
            }
            localStorage.setItem('casino_balance_v2', balance);
        }

        // –ê–Ω–∏–º–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –±–∞–ª–∞–Ω—Å–∞
        function updateBalance(animate) {
            const balanceEl = document.getElementById('balance');
            if (animate) {
                let start = parseInt(balanceEl.innerText);
                let end = balance;
                let duration = 1000;
                let range = end - start;
                let current = start;
                let increment = end > start ? 1 : -1;
                let stepTime = Math.abs(Math.floor(duration / range));
                if (stepTime < 10) stepTime = 10; // –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞
                
                let timer = setInterval(function() {
                    current += increment;
                    balanceEl.innerText = current;
                    if (current == end) {
                        clearInterval(timer);
                    }
                }, stepTime);
                
            } else {
                balanceEl.innerText = balance;
            }
        }

        function showMessage(text, color) {
            let msg = document.getElementById('message');
            msg.innerHTML = text;
            msg.style.color = color;
            msg.style.textShadow = `0 0 15px ${color}`;
        }

        function haptic(type) {
            if(!isVibration) return;
            tg.HapticFeedback.notificationOccurred(type);
        }

        // --- –§—É–Ω–∫—Ü–∏–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏ –ø—Ä–æ–º–æ–∫–æ–¥–æ–≤ (–±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –ª–æ–≥–∏–∫–µ) ---
        function openSettings() { document.getElementById('settingsModal').style.display = 'flex'; }
        function closeSettings() { document.getElementById('settingsModal').style.display = 'none'; }
        function saveSettings() {
            isVibration = document.getElementById('vibrateToggle').checked;
            isTurbo = document.getElementById('turboToggle').checked;
            localStorage.setItem('setting_vibration', isVibration);
            localStorage.setItem('setting_turbo', isTurbo);
        }
        function checkPromo() {
            let input = document.getElementById('promoInput');
            let code = input.value.trim().toUpperCase();
            if(usedPromos.includes(code)) { alert("–ö–æ–¥ —É–∂–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω!"); return; }
            if(code === "START") addPromoBonus(500, code);
            else if (code === "CYBER") addPromoBonus(1000, code);
            else if (code === "NEON") addPromoBonus(5000, code);
            else alert("–ù–µ–≤–µ—Ä–Ω—ã–π –∫–æ–¥");
            input.value = "";
        }
        function addPromoBonus(amount, code) {
            balance += amount; usedPromos.push(code);
            localStorage.setItem('used_promos_v2', JSON.stringify(usedPromos));
            updateBalance(true);
            alert(`–ü—Ä–∏–Ω—è—Ç–æ! +${amount}$`); haptic('success'); closeSettings();
        }
    </script>
</body>
</html>
